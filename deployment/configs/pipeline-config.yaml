# Automated Deployment Pipeline Configuration
# Phase 4.3.1: Configuration templates for automated model deployment

# Quality Assurance Configuration
quality_thresholds:
  minimum_score: 80
  performance:
    max_latency_ms: 200
    min_throughput_tokens_sec: 100
    max_memory_gb: 16
    max_error_rate_percent: 1.0
  security:
    require_authentication: true
    require_rate_limiting: true
    require_input_validation: true

# A/B Testing Configuration
ab_testing:
  default_traffic_split_percent: 10
  default_duration_minutes: 30
  success_criteria:
    max_error_rate_increase: 0.5
    max_latency_increase_percent: 20
    min_user_satisfaction: 4.0
    min_requests_sample_size: 1000
  failure_criteria:
    max_error_rate: 5.0
    max_latency_ms: 1000
    min_success_rate: 95.0
  auto_promote: true
  auto_rollback: true

# Deep Tree Echo Integration
deep_tree_echo:
  enabled: true
  components:
    - dtesn
    - aar_core
    - echo_self
  
# Deployment Environments
environments:
  staging:
    replicas: 2
    resources:
      cpu: "4"
      memory: "8Gi"
    monitoring:
      enabled: true
      retention_days: 7
  production:
    replicas: 3
    resources:
      cpu: "8"
      memory: "16Gi"
    monitoring:
      enabled: true
      retention_days: 30
      alerting: true

# Model Registry Configuration
model_registry:
  url: "ghcr.io/echocog/aphroditecho/models"
  retention_policy:
    stable_versions: 10
    canary_versions: 5
    failed_deployments: 2
    
# Monitoring and Observability
monitoring:
  prometheus:
    enabled: true
    scrape_interval: "15s"
  grafana:
    enabled: true
    dashboard_refresh: "30s"
  alerting:
    channels:
      - slack
      - email
    thresholds:
      error_rate: 2.0
      latency_p95: 500
      resource_usage: 80